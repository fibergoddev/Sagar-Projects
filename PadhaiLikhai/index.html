<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PadhaiLikhai | The Ultimate Study Hub by Sagar Raj</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome is loaded from a CDN for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon-512.png">
</head>
<body>
    <!-- Designed & Developed by Sagar Raj -->

    <div class="animated-bg"></div>

    <!-- Main application shell -->
    <div id="app-shell">
        <!-- ** FIX **: Loader is now guaranteed to be visible on startup -->
        <div id="loader-overlay">
            <svg id="logo-loader" width="100" height="100" viewBox="0 0 100 100">
                <path class="logo-path" d="M 20 20 L 20 80 L 50 80 L 50 50 L 40 50" fill="none" stroke-width="5"/>
                <path class="logo-path" d="M 50 20 L 80 20 L 80 80" fill="none" stroke-width="5"/>
            </svg>
            <div id="loader-status">Initializing Aether Core...</div>
        </div>

        <!-- =============================================================================== -->
        <!-- == MAIN HUB VIEW == -->
        <!-- =============================================================================== -->
        <div id="main-view" class="view hidden"> <!-- Starts hidden until script unhides it -->
            <div class="main-view-container">
                <header class="main-header">
                    <!-- ** FIX **: Your animated SVG logo is now in the header -->
                    <div class="logo">
                        <svg viewBox="0 0 100 100">
                            <path class="logo-path" d="M 20 20 L 20 80 L 50 80 L 50 50 L 40 50" fill="none" stroke-width="10"/>
                            <path class="logo-path" d="M 50 20 L 80 20 L 80 80" fill="none" stroke-width="10"/>
                        </svg>
                        <span>PadhaiLikhai</span>
                    </div>
                    <nav class="header-nav">
                        <a href="subscription.html" class="header-button" title="Upgrade Plan"><i class="fas fa-gem"></i></a>
                        <a href="nexus.html" class="header-button" title="Nexus Hub"><i class="fas fa-atom"></i></a>
                        <button id="support-us-btn" class="header-button" title="Support Us"><i class="fas fa-hand-holding-heart"></i></button>
                    </nav>
                </header>
                <main id="main-content-area">
                    <div class="dashboard-header">
                        <div class="search-bar-container">
                            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.031 16.617l4.25 4.25a.75.75 0 01-1.06 1.06l-4.25-4.25a8.5 8.5 0 111.06-1.06zM10.5 17a6.5 6.5 0 100-13 6.5 6.5 0 000 13z"></path></svg>
                            <input type="text" id="search-bar" placeholder="Search courses, games, books...">
                        </div>
                        <div class="category-filter">
                            <button class="category-btn active" data-category="all">All</button>
                            <button class="category-btn" data-category="ai">AI Tools</button>
                            <button class="category-btn" data-category="course">Courses</button>
                            <button class="category-btn" data-category="game">Games</button>
                            <button class="category-btn" data-category="book">Books</button>
                        </div>
                    </div>
                    <div id="dashboard-grid">
                        <!-- Card 1: Next Toppers Batch -->
                        <div class="content-card" data-category="course" data-keywords="next toppers batch course study login learn online education">
                            <div class="card-image" style="background-image: url('https://placehold.co/600x400/0D1117/388BFD?text=Toppers+Batch');"></div>
                            <div class="card-content">
                                <h3 class="card-title">Next Toppers Batch</h3>
                                <p class="card-description">Your exclusive portal to premium courses and study materials. Login to continue your session.</p>
                                <div class="card-tags"><span class="tag">Course</span><span class="tag">Study</span></div>
                                <div id="login-button-area" class="button-group"><button class="styled-button">Loading...</button></div>
                            </div>
                        </div>
                        
                        <!-- Card 2: AI Doubt Solver (Link) -->
                        <a href="doubtsolver.html" class="content-card" data-category="ai" data-keywords="ai doubt solver artificial intelligence homework help math physics chemistry">
                            <div class="card-image" style="background-image: url('https://placehold.co/600x400/02040A/E6EDF3?text=AI+Solver');"></div>
                            <div class="card-content">
                                <h3 class="card-title">AI Doubt-Solver</h3>
                                <p class="card-description">Scan any problem from your textbook and get instant, step-by-step solutions from our advanced AI.</p>
                                <div class="card-tags"><span class="tag">AI</span><span class="tag">Premium</span></div>
                                <div class="button-group"><button class="styled-button">Solve Now</button></div>
                            </div>
                        </a>

                        <!-- Card 3: Neuro-Link Game -->
                        <div class="content-card" data-category="game" data-keywords="neuro-link game memory focus play fun brain training">
                            <div class="card-image" style="background-image: url('https://placehold.co/600x400/0D1117/7D8590?text=Neuro-Link');"></div>
                            <div class="card-content">
                                <h3 class="card-title">Neuro-Link Game</h3>
                                <p class="card-description">Sharpen your focus and test your memory with our engaging, futuristic brain-training game.</p>
                                <div class="card-tags"><span class="tag">Game</span><span class="tag">Focus</span></div>
                                <div class="button-group"><button id="play-game-btn" class="styled-button">Play Now</button></div>
                            </div>
                        </div>

                        <!-- Card 4: Books Library (Ad Link) -->
                        <a href="https://medievalkin.com/z3cci824?key=3ad08b148f03cc313b5357f5e120feaf" target="_blank" class="content-card" data-category="book" data-keywords="books library resources reading knowledge pdf download">
                            <div class="card-image" style="background-image: url('https://placehold.co/600x400/02040A/238636?text=Library');"></div>
                            <div class="card-content">
                                <h3 class="card-title">Books Library</h3>
                                <p class="card-description">Explore a vast, curated collection of educational resources, books, and research papers.</p>
                                <div class="card-tags"><span class="tag">Book</span><span class="tag">Resources</span></div>
                            </div>
                        </a>
                    </div>
                    <div id="no-results-message" class="hidden"><h3>No Results Found</h3><p>Try adjusting your search or category filter.</p></div>
                </main>
            </div>
        </div>
        
        <!-- Other UI elements (modals, widgets, etc.) -->
        <div id="support-view" class="view hidden">
             <div class="main-view-container" style="padding: 30px; text-align: center;">
                <h1 style="font-size: 2rem; margin-bottom: 15px;">Support the Developer</h1>
                <p style="color: var(--text-secondary); max-width: 600px; margin: 0 auto 30px auto;">Your support by viewing these ads helps keep this application running and free for everyone. Thank you!</p>
                <div id="ad-grid"></div>
                <button id="back-to-main-btn" class="styled-button" style="margin-top: 30px;">Back to Hub</button>
            </div>
        </div>

        <div id="app-view" class="view hidden">
            <!-- Content for iFrame view remains the same -->
        </div>

        <div id="interstitial-ad-modal" class="modal-overlay hidden">
            <div class="modal-content" style="text-align: center; max-width: 350px;">
                <button id="close-ad-modal-btn" style="position: absolute; top: 15px; right: 15px; font-size: 1.5rem; background: none; border: none; color: var(--text-secondary); cursor: pointer;"><i class="fas fa-times"></i></button>
                <p style="margin-bottom: 20px;">Please support us by watching this ad</p>
                <div id="interstitial-ad-container"></div>
                <div class="modal-ad-controls" style="margin-top: 20px;">
                    <button id="skip-ad-button" class="styled-button">Skip Ad in 4s</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ad Containers -->
    <div id="persistent-ad-banner" style="position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); z-index: 1000;"></div>
    <div id="popunder-container"></div>
    <div id="notification-container"></div>
    
    <!-- Scripts -->
    <script src="firebase-init.js" type="module"></script>
    <script src="script.js" type="module"></script>
</body>
</html>
