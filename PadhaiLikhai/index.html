<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PadhaiLikhai | The Ultimate Study Hub</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>
<body>

    <!-- This is the main container for all application views -->
    <div id="app-shell">
        <!-- New Animated Loader -->
        <div id="loader-overlay" class="visible">
            <svg id="logo-loader" width="100" height="100" viewBox="0 0 100 100">
                <path class="logo-path" d="M 20 20 L 20 80 L 50 80 L 50 50 L 40 50" fill="none" stroke-width="5"/>
                <path class="logo-path" d="M 50 20 L 80 20 L 80 80" fill="none" stroke-width="5"/>
            </svg>
        </div>

        <!-- Main Hub View: Redesigned with a dashboard layout -->
        <div id="main-view" class="view hidden">
            <div class="main-view-container">
                <header class="main-header">
                    <div class="logo">
                        <svg id="header-logo" width="30" height="30" viewBox="0 0 100 100">
                            <path d="M 20 20 L 20 80 L 50 80 L 50 50 L 40 50" fill="none" stroke-width="10"/>
                            <path d="M 50 20 L 80 20 L 80 80" fill="none" stroke-width="10"/>
                        </svg>
                        <span>PadhaiLikhai</span>
                    </div>
                    <nav class="header-nav">
                        <button id="support-us-btn" title="Support Us"><i class="fas fa-hand-holding-heart"></i></button>
                    </nav>
                </header>
                <main id="main-content-area">
                    <div class="dashboard-header">
                        <div class="search-bar-container">
                            <i class="fas fa-search"></i>
                            <input type="text" id="search-bar" placeholder="Search courses, games, books...">
                        </div>
                        <div class="category-filter">
                            <button class="category-btn active" data-category="all">All</button>
                            <button class="category-btn" data-category="course">Courses</button>
                            <button class="category-btn" data-category="game">Games</button>
                            <button class="category-btn" data-category="book">Books</button>
                        </div>
                    </div>
                    <div id="dashboard-grid">
                        <!-- Card for Next Toppers Batch -->
                        <div class="content-card" data-category="course" data-keywords="next toppers batch course study login">
                            <div class="card-image" style="background-image: url('https://placehold.co/600x400/1a1a2e/00f2fe?text=Toppers');"></div>
                            <div class="card-content">
                                <h3 class="card-title">Next Toppers Batch</h3>
                                <p class="card-description">Your journey to success starts here. Login to access exclusive content or continue your study session.</p>
                                <div class="card-tags">
                                    <span class="tag">Course</span>
                                    <span class="tag">Study</span>
                                </div>
                                <div id="login-button-area" class="button-group">
                                    <button class="styled-button">Loading...</button>
                                </div>
                            </div>
                        </div>

                        <!-- Card for Neuro-Link Game -->
                        <div class="content-card" data-category="game" data-keywords="neuro-link game memory focus">
                            <div class="card-image" style="background-image: url('https://placehold.co/600x400/1a1a2e/f04747?text=Neuro-Link');"></div>
                            <div class="card-content">
                                <h3 class="card-title">Neuro-Link Game</h3>
                                <p class="card-description">Engage your mind with our futuristic memory game. Sharpen your focus and climb the leaderboard!</p>
                                <div class="card-tags">
                                    <span class="tag">Game</span>
                                    <span class="tag">Focus</span>
                                </div>
                                <button id="play-game-btn" class="styled-button">Play Now</button>
                            </div>
                        </div>

                        <!-- Card for Books Library (Ad Link) -->
                        <div class="content-card" data-category="book" data-keywords="books library resources reading">
                             <a id="books-ad-link" href="#" target="_blank" class="card-ad-link">
                                <div class="card-image" style="background-image: url('https://placehold.co/600x400/1a1a2e/2ecc71?text=Library');"></div>
                                <div class="card-content">
                                    <h3 class="card-title">Books Library</h3>
                                    <p class="card-description">A vast collection of knowledge is being curated for you. Click to explore our resources.</p>
                                     <div class="card-tags">
                                        <span class="tag">Book</span>
                                        <span class="tag">Resources</span>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </main>
            </div>
            <div id="persistent-ad-banner">
                <!-- Ads will be loaded here by JS -->
            </div>
        </div>
        
        <!-- Support/Ad Revenue View -->
        <div id="support-view" class="view hidden">
            <div class="support-content">
                <h1 class="section-title">Support the Developer</h1>
                <p class="section-subtitle">Your support by viewing these ads helps keep this application running and free for everyone. Thank you!</p>
                <div id="ad-grid">
                    <!-- Ads will be loaded here by JS -->
                </div>
                <button id="back-to-main-btn" class="styled-button">Back to Hub</button>
            </div>
        </div>

        <!-- App/Iframe View -->
        <div id="app-view" class="view hidden">
            <div id="iframe-container">
                <div id="iframe-loader" class="fas fa-spinner fa-spin"></div>
                <iframe id="website-frame" src="" title="Embedded Website" allowfullscreen></iframe>
            </div>
            <div id="focus-overlay"></div>
            <button id="command-center-btn">
                <div class="icon-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            <div id="side-panel">
                <div class="side-panel-header">
                    <span class="side-panel-title">Command Center</span>
                </div>
                <nav id="side-panel-nav">
                    <button class="side-panel-button" id="side-panel-back-btn"><i class="fas fa-arrow-left fa-fw"></i> Back</button>
                    <button class="side-panel-button" id="side-panel-profile-btn"><i class="fas fa-user-circle fa-fw"></i> Profile</button>
                    <button class="side-panel-button" id="side-panel-calculator-btn"><i class="fas fa-calculator fa-fw"></i> Calculator</button>
                    <button class="side-panel-button" id="side-panel-focus-btn"><i class="fas fa-eye fa-fw"></i> Focus Mode</button>
                    <button class="side-panel-button" id="side-panel-notes-btn"><i class="fas fa-sticky-note fa-fw"></i> Mini Notes</button>
                    <button class="side-panel-button" id="side-panel-permissions-btn"><i class="fas fa-shield-alt fa-fw"></i> Permissions</button>
                    <button class="side-panel-button" id="side-panel-exit-btn"><i class="fas fa-sign-out-alt fa-fw"></i> Exit Study</button>
                </nav>
            </div>
            <div id="calculator" class="widget">
                <div class="widget-header" id="calc-header"><i class="fas fa-arrows-alt"></i></div>
                <input type="text" id="calc-display" disabled>
                <div id="calc-buttons">
                     <button class="calc-btn operator">C</button><button class="calc-btn operator">(</button><button class="calc-btn operator">)</button><button class="calc-btn operator">/</button>
                     <button class="calc-btn">7</button><button class="calc-btn">8</button><button class="calc-btn">9</button><button class="calc-btn operator">*</button>
                     <button class="calc-btn">4</button><button class="calc-btn">5</button><button class="calc-btn">6</button><button class="calc-btn operator">-</button>
                     <button class="calc-btn">1</button><button class="calc-btn">2</button><button class="calc-btn">3</button><button class="calc-btn operator">+</button>
                     <button class="calc-btn">0</button><button class="calc-btn">.</button><button class="calc-btn" style="grid-column: span 2;">=</button>
                </div>
            </div>
            <div id="mini-notes" class="widget">
                <div class="widget-header" id="notes-header"><i class="fas fa-arrows-alt"></i> Mini Notes</div>
                <textarea id="notes-textarea" placeholder="Your thoughts..."></textarea>
            </div>
        </div>

        <!-- All Modals -->
        <div id="interstitial-ad-modal" class="modal-overlay">
            <div class="modal-content">
                <p class="subtitle">Please support us by watching this ad</p>
                <div id="interstitial-ad-container"></div>
                <div class="modal-ad-controls">
                    <button id="skip-ad-button" class="styled-button">Skip Ad in 4s</button>
                    <button id="close-ad-modal-btn" class="ad-close-btn"><i class="fas fa-times"></i></button>
                </div>
            </div>
        </div>
        <div id="user-info-modal" class="modal-overlay">
            <div class="modal-content">
                <h2 class="title">Welcome!</h2>
                <p class="subtitle">Please tell us a bit about yourself.</p>
                <form id="user-info-form">
                    <div class="form-group"><label for="user-name">Name</label><input type="text" id="user-name" required></div>
                    <div class="form-group"><label for="user-class">Class</label><input type="text" id="user-class" required></div>
                    <div class="form-group"><label for="user-age">Age</label><input type="number" id="user-age" required></div>
                    <button type="submit" class="styled-button" style="width: 100%;">Save & Continue</button>
                </form>
            </div>
        </div>
        <div id="telegram-modal" class="modal-overlay">
            <div class="modal-content">
                <h2 class="title">Join Our Community!</h2>
                <p class="subtitle">Get the latest updates on Telegram.</p>
                <a href="https://t.me/PadhaiLikhai_official" target="_blank" class="styled-button" style="width: 100%; text-decoration: none;">Join Telegram</a>
                <button id="close-telegram-modal" class="styled-button" style="width: 100%; margin-top: 15px; background: transparent; border: 1px solid var(--border-color);">Continue to App</button>
            </div>
        </div>
        <div id="permissions-modal" class="modal-overlay">
            <div class="modal-content">
                <h2 class="title">Permissions Center</h2>
                <p class="subtitle">To use all features, please grant the necessary permissions.</p>
                <div class="permission-grid">
                    <button id="grant-camera-btn" class="styled-button support-button"><i class="fas fa-camera"></i> Camera</button>
                    <button id="grant-notify-btn" class="styled-button support-button"><i class="fas fa-bell"></i> Notifications</button>
                </div>
                <button id="close-permissions-modal" class="styled-button" style="width: 100%; margin-top: 25px;">Close</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
